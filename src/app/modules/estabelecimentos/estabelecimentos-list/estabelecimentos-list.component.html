<h1 class="mt-4">Estabelecimentos</h1>
<ol class="breadcrumb mb-4">
  <li class="breadcrumb-item active">Listagem</li>
</ol>
<div class="container-fluid">

  <div class="card shadow mb-4">
    <div class="card-header py-3">
      <h6 class="m-0 font-weight-bold text-primary">Estabelecimentos</h6>
    </div>
    <div class="card-body">
      <div class="d-flex justify-content-left mb-3">
        <a [routerLink]="['/estabelecimentos/form']" class="btn btn-primary">
          <i class="fa fa-plus" aria-hidden="true"></i>
          NOVO
        </a>
      </div>
      <div class="d-flex justify-content-center" *ngIf="loadingList === true">
        <div class="spinner-border text-primary " role="status">
        </div>
      </div>
      <div class="table-responsive p-2" [hidden]="loadingList === true">
        <div class="mb-3">
          <input class="form-control" (keyup)="applyFilter($event)"
            placeholder="Buscar">
        </div>

        <table mat-table matSort [dataSource]="dataSource"
          class="mat-elevation-z8" width="100%">
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
          </ng-container>

          <ng-container matColumnDef="razao_social">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Razão Social
            </th>
            <td mat-cell *matCellDef="let element"> {{element.razao_social}}
            </td>
          </ng-container>

          <ng-container matColumnDef="nome_fantasia">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nome Fantasia
            </th>
            <td mat-cell *matCellDef="let element"> {{element.nome_fantasia}}
            </td>
          </ng-container>

          <ng-container matColumnDef="cnpj_cpf">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> CNPJ/CPF
            </th>
            <td mat-cell *matCellDef="let element">
              {{element.cnpj_cpf |  mask: '00.000.000/0000-00'}} </td>
          </ng-container>

          <ng-container matColumnDef="options">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> OPÇÕES
            </th>
            <td mat-cell *matCellDef="let element">
              <div class="d-flex justify-content-left">
                <a [routerLink]="['/estabelecimentos/form']"
                  [queryParams]="{id:element.id}"
                  routerLinkActive="router-link-active"
                  class="btn btn-primary">
                  <i class="fa fa-edit" aria-hidden="true"></i>
                </a>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true">
          </tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;">
          </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[15, 30, 60]" showFirstLastButtons>
        </mat-paginator>

      </div>
    </div>
  </div>
</div>
